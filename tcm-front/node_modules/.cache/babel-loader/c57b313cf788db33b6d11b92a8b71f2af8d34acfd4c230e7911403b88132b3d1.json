{"ast":null,"code":"export default {\n  name: 'App',\n  data: function () {\n    return {\n      isRouterAlive: true\n    };\n  },\n  //存储store数据\n  created() {\n    //读取\n    if (window.sessionStorage.getItem(\"store\")) {\n      this.$store.replaceState(Object.assign({}, this.$store.state, JSON.parse(window.sessionStorage.getItem(\"store\"))));\n    }\n    //刷新前存储数据\n    window.addEventListener(\"beforeunload\", () => {\n      window.sessionStorage.setItem(\"store\", JSON.stringify(this.$store.state));\n    });\n  },\n  methods: {\n    reload() {\n      this.isRouterAlive = false;\n      this.$nextTick(function () {\n        this.isRouterAlive = true;\n      });\n    }\n  },\n  components: {}\n};","map":{"version":3,"names":["name","data","isRouterAlive","created","window","sessionStorage","getItem","$store","replaceState","Object","assign","state","JSON","parse","addEventListener","setItem","stringify","methods","reload","$nextTick","components"],"sources":["src/App.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <router-view v-if=\"isRouterAlive\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App',\r\n  data: function(){\r\n    return {\r\n      isRouterAlive: true\r\n    }\r\n  },\r\n  //存储store数据\r\n  created() {\r\n    //读取\r\n    if (window.sessionStorage.getItem(\"store\")) {\r\n      this.$store.replaceState(Object.assign({}, this.$store.state,JSON.parse(window.sessionStorage.getItem(\"store\"))))\r\n    } \r\n    //刷新前存储数据\r\n    window.addEventListener(\"beforeunload\",()=>{\r\n      window.sessionStorage.setItem(\"store\",JSON.stringify(this.$store.state))\r\n    })\r\n  },\r\n  methods: {\r\n    reload () {\r\n      this.isRouterAlive = false\r\n      this.$nextTick(function () {\r\n        this.isRouterAlive = true\r\n      })\r\n    }\r\n  },\r\n  components: {\r\n    \r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n}\r\n*{\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n</style>"],"mappings":"AAOA;EACAA,IAAA;EACAC,IAAA,WAAAA,CAAA;IACA;MACAC,aAAA;IACA;EACA;EACA;EACAC,QAAA;IACA;IACA,IAAAC,MAAA,CAAAC,cAAA,CAAAC,OAAA;MACA,KAAAC,MAAA,CAAAC,YAAA,CAAAC,MAAA,CAAAC,MAAA,UAAAH,MAAA,CAAAI,KAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAT,MAAA,CAAAC,cAAA,CAAAC,OAAA;IACA;IACA;IACAF,MAAA,CAAAU,gBAAA;MACAV,MAAA,CAAAC,cAAA,CAAAU,OAAA,UAAAH,IAAA,CAAAI,SAAA,MAAAT,MAAA,CAAAI,KAAA;IACA;EACA;EACAM,OAAA;IACAC,OAAA;MACA,KAAAhB,aAAA;MACA,KAAAiB,SAAA;QACA,KAAAjB,aAAA;MACA;IACA;EACA;EACAkB,UAAA,GAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}