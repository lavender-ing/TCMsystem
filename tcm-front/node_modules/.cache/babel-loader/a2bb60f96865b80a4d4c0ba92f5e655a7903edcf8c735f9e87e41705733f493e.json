{"ast":null,"code":"import Vue from 'vue';\nimport Vuex from 'vuex';\nimport dateformat from '@/utils/dateformat';\nVue.use(Vuex);\nconst store = new Vuex.Store({\n  state: {\n    user: null,\n    isLogin: false,\n    character: null\n  },\n  mutations: {\n    login(state, payload) {\n      state.user = payload.user;\n      state.user.registertime = dateformat.format(state.user.registertime);\n      state.user.lastlogin = dateformat.format(state.user.lastlogin);\n      state.isLogin = payload.isLogin;\n      state.character = state.user.character;\n    },\n    logout(state) {\n      state.user = null, state.isLogin = false, state.character = null;\n    },\n    changeProfile(state, payload) {\n      state.user.picturepath = payload.picturepath;\n    }\n  }\n});\nexport default store;","map":{"version":3,"names":["Vue","Vuex","dateformat","use","store","Store","state","user","isLogin","character","mutations","login","payload","registertime","format","lastlogin","logout","changeProfile","picturepath"],"sources":["/Users/zhoujian/Workspaces/git/TCMsystem/front/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport dateformat from '@/utils/dateformat'\r\n\r\nVue.use(Vuex)\r\n\r\nconst store = new Vuex.Store({\r\n  state: {\r\n    user: null,\r\n    isLogin: false,\r\n    character:null,\r\n  },\r\n  mutations: {\r\n    login(state, payload){\r\n      state.user=payload.user\r\n      state.user.registertime=dateformat.format(state.user.registertime)\r\n      state.user.lastlogin=dateformat.format(state.user.lastlogin)\r\n      state.isLogin=payload.isLogin\r\n      state.character=state.user.character\r\n    },\r\n    logout(state){\r\n      state.user=null,\r\n      state.isLogin=false,\r\n      state.character=null\r\n    },\r\n    changeProfile(state,payload){\r\n      state.user.picturepath=payload.picturepath\r\n    }\r\n  }\r\n})\r\n\r\nexport default store"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,UAAU,MAAM,oBAAoB;AAE3CF,GAAG,CAACG,GAAG,CAACF,IAAI,CAAC;AAEb,MAAMG,KAAK,GAAG,IAAIH,IAAI,CAACI,KAAK,CAAC;EAC3BC,KAAK,EAAE;IACLC,IAAI,EAAE,IAAI;IACVC,OAAO,EAAE,KAAK;IACdC,SAAS,EAAC;EACZ,CAAC;EACDC,SAAS,EAAE;IACTC,KAAKA,CAACL,KAAK,EAAEM,OAAO,EAAC;MACnBN,KAAK,CAACC,IAAI,GAACK,OAAO,CAACL,IAAI;MACvBD,KAAK,CAACC,IAAI,CAACM,YAAY,GAACX,UAAU,CAACY,MAAM,CAACR,KAAK,CAACC,IAAI,CAACM,YAAY,CAAC;MAClEP,KAAK,CAACC,IAAI,CAACQ,SAAS,GAACb,UAAU,CAACY,MAAM,CAACR,KAAK,CAACC,IAAI,CAACQ,SAAS,CAAC;MAC5DT,KAAK,CAACE,OAAO,GAACI,OAAO,CAACJ,OAAO;MAC7BF,KAAK,CAACG,SAAS,GAACH,KAAK,CAACC,IAAI,CAACE,SAAS;IACtC,CAAC;IACDO,MAAMA,CAACV,KAAK,EAAC;MACXA,KAAK,CAACC,IAAI,GAAC,IAAI,EACfD,KAAK,CAACE,OAAO,GAAC,KAAK,EACnBF,KAAK,CAACG,SAAS,GAAC,IAAI;IACtB,CAAC;IACDQ,aAAaA,CAACX,KAAK,EAACM,OAAO,EAAC;MAC1BN,KAAK,CAACC,IAAI,CAACW,WAAW,GAACN,OAAO,CAACM,WAAW;IAC5C;EACF;AACF,CAAC,CAAC;AAEF,eAAed,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}